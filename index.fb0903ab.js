!function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,r){if(t){if("string"==typeof t)return e(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=!0,n="";function a(e){return e.replace(",","").slice(1)}var o=function(e,t,o,i,c){var s=t.indexOf(e);switch(n===e?r=!r:(r=!0,n=e),o[s]){case"money":case"digits":i.sort(function(e,t){var n=e.cells[s].textContent,i=t.cells[s].textContent;return"money"===o[s]&&(n=a(n),i=a(i)),r?n-i:i-n});break;case"words":i.sort(function(e,t){var n=e.cells[s].textContent,a=t.cells[s].textContent;return r?n.localeCompare(a):a.localeCompare(n)})}i.forEach(function(e){c.appendChild(e)})},i={convertSalaryToString:function(e){for(var t=String(e).split(""),r=1,n=t.length-1;n>0;n--){if(3===r){r=1,t[n]=","+t[n];continue}r++}return"$"+t.join("")}},c=function(e,t,r,n,a){var o=document.querySelector("body"),i=document.createElement("div");switch(i.style.top=e+"px",i.style.right=t+"px",i.insertAdjacentHTML("afterbegin",'<h2 class="title">'.concat(r,"</h2>")),i.insertAdjacentHTML("beforeend","<p>".concat(n,"</p>")),i.setAttribute("data-qa","notification"),i.classList.add("notification"),a){case"success":i.classList.add("success");break;case"warning":i.classList.add("warning");break;default:i.classList.add("error")}o.appendChild(i),setTimeout(function(){return i.remove()},4e3)},s={isValid:function(e,t){switch(e){case"name":return t.trim().length>=4;case"position":return!!t.trim();case"office":return!0;case"age":return t>=18&&t<90;case"salary":return t>=0&&t}}},u=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"],l=document.querySelector("body"),d=document.querySelector("table"),m=[],f=[],p=d.rows[0],b=d.children[1],y=t(b.rows);t(p.cells).forEach(function(e){m.push(e.textContent),e.addEventListener("click",function(){y=t(b.rows),o(e.textContent,m,f,y,b)})}),t(y[0].cells).forEach(function(e){var t;f.push("$"===(t=e.textContent)[0]&&1===t.split(/\s/).length?"money":"number"!=typeof Number(t)||isNaN(Number(t))?"words":"digits")}),t(y).forEach(function(e){e.addEventListener("click",function(){t(y).forEach(function(e){e.classList.remove("active")}),e.classList.add("active")})}),({create:function(e){var t=e.headers,r=e.tbody,n=document.createElement("form");n.classList.add("new-employee-form"),t.forEach(function(e){var t=e.toLowerCase(),r=document.createElement("label"),a=null;r.textContent="".concat(e,":"),"office"===t?(a=document.createElement("select"),u.forEach(function(e){var t=document.createElement("option");t.textContent=e,a.appendChild(t)})):a=document.createElement("input"),a.setAttribute("name","".concat(t)),a.setAttribute("data-qa","".concat(t)),("age"===t||"salary"===t)&&a.setAttribute("type","number"),r.appendChild(a),n.appendChild(r)});var a=document.createElement("button");a.textContent="Save to table",a.setAttribute("type","submit"),n.appendChild(a),l.appendChild(n),n.addEventListener("submit",function(e){e.preventDefault();var a=document.querySelector(".notification");a&&a.remove();var o=new FormData(n),u=!1,l=document.createElement("tr");t.forEach(function(e){if(!u){var t=e.toLowerCase(),r=o.get("".concat(t));if(!s.isValid(t,r)){switch(u=!0,t){case"name":c(10,10,"Error","There was a problem with your submission.\n The name must have at least 4 letters.","error");break;case"position":c(10,10,"Error","There was a problem with your submission.\n The position cannot be an empty string.","error");break;case"age":c(10,10,"Error","There was a problem with your submission.\n It looks like you are either too young to work or should retire. Eligible age is 18 to 90 years old.","error");break;case"salary":c(10,10,"Error","There was a problem with your submission.\n The value should not be negative.","error")}return}if(!u){"salary"===t&&(r=i.convertSalaryToString(r));var n=document.createElement("td");n.textContent=r,l.appendChild(n)}}}),u||(r.appendChild(l),c(10,10,"success","Great!\n The employee was added to the table.","success"),n.reset())})}}).create({headers:m,tbody:b}),b.addEventListener("dblclick",function(e){var r=function(e){if("Escape"===e.key){if("money"===f[o]){l.value=i.convertSalaryToString(a),n.innerText=i.convertSalaryToString(a);return}l.value=a,n.innerText=a;return}if("blur"===e.type||"Enter"===e.key){if("money"===f[o]){if(s.isValid("salary",Number(l.value))){n.innerText=l.value?i.convertSalaryToString(l.value):i.convertSalaryToString(a);return}c(10,10,"Error","There was a problem with your submission.\n The value should not be negative.","error"),l.value=i.convertSalaryToString(a),n.innerText=i.convertSalaryToString(a);return}if("digits"===f[o]){if(s.isValid("age",Number(l.value))){n.innerText=l.value;return}c(10,10,"Error","There was a problem with your submission.\n Age should be between 18 and 90.","error"),l.value=a,n.innerText=a;return}a=l.value,n.innerText=a}},n=e.target,a=n.innerText,o=t(n.parentElement.cells).indexOf(n),l=document.createElement("input");"digits"===f[o]&&(l.setAttribute("type","number"),l.setAttribute("min","18"),l.setAttribute("max","90")),"money"===f[o]&&(l.setAttribute("type","number"),l.setAttribute("min","0"),l.setAttribute("step","100"),a=Number(a.replace(",","").slice(1))),"Office"===m[o]&&(l=document.createElement("select"),u.forEach(function(e){var t=document.createElement("option");t.textContent=e,l.appendChild(t)})),l.classList.add("cell-input"),l.value=a,n.innerText="",n.append(l),l.focus(),l.addEventListener("blur",r),l.addEventListener("keyup",r)})}();
//# sourceMappingURL=index.fb0903ab.js.map
