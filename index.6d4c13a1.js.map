{"mappings":"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","sources":["<anon>","src/scripts/main.js","src/scripts/tableSorting.js","src/scripts/tableForm.js","src/scripts/utils.js","src/scripts/notification.js","src/scripts/validateFormData.js","src/scripts/constants.js"],"sourcesContent":["/* eslint-disable no-console */ \"use strict\";\nlet $da12f7e12b932187$var$isASC = true;\nlet $da12f7e12b932187$var$currHeader = \"\";\nfunction $da12f7e12b932187$var$tSortingBy(header, headers, columnsType, tbodyRows, tbody) {\n    const columnIndex = headers.indexOf(header);\n    if ($da12f7e12b932187$var$currHeader === header) $da12f7e12b932187$var$isASC = !$da12f7e12b932187$var$isASC;\n    else {\n        $da12f7e12b932187$var$isASC = true;\n        $da12f7e12b932187$var$currHeader = header;\n    }\n    switch(columnsType[columnIndex]){\n        case \"money\":\n        case \"digits\":\n            tbodyRows.sort((a, b)=>{\n                let aValue = a.cells[columnIndex].textContent;\n                let bValue = b.cells[columnIndex].textContent;\n                if (columnsType[columnIndex] === \"money\") {\n                    aValue = $da12f7e12b932187$var$getNumFromMoney(aValue);\n                    bValue = $da12f7e12b932187$var$getNumFromMoney(bValue);\n                }\n                return $da12f7e12b932187$var$isASC ? aValue - bValue : bValue - aValue;\n            });\n            break;\n        case \"words\":\n            tbodyRows.sort((a, b)=>{\n                const aValue = a.cells[columnIndex].textContent;\n                const bValue = b.cells[columnIndex].textContent;\n                return $da12f7e12b932187$var$isASC ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);\n            });\n            break;\n        default:\n            break;\n    }\n    tbodyRows.forEach((item)=>{\n        tbody.appendChild(item);\n    });\n}\nfunction $da12f7e12b932187$var$defineSortValue(item) {\n    if (item[0] === \"$\" && item.split(/\\s/).length === 1) return \"money\";\n    if (typeof Number(item) === \"number\" && !isNaN(Number(item))) return \"digits\";\n    return \"words\";\n}\nfunction $da12f7e12b932187$var$getNumFromMoney(v) {\n    return v.replace(\",\", \"\").slice(1);\n}\nconst $da12f7e12b932187$export$7573c0507c7129af = {\n    tSortingBy: $da12f7e12b932187$var$tSortingBy,\n    defineSortValue: $da12f7e12b932187$var$defineSortValue\n};\n\n\nvar $09e991522ca7e64e$require$tableSorting = $da12f7e12b932187$export$7573c0507c7129af;\nfunction $6d45e21e2891194c$var$convertSalaryToString(value) {\n    const res = String(value).split(\"\");\n    let currGroup = 1;\n    for(let i = res.length - 1; i > 0; i--){\n        if (currGroup === 3) {\n            currGroup = 1;\n            res[i] = \",\" + res[i];\n            continue;\n        }\n        currGroup++;\n    }\n    return \"$\" + res.join(\"\");\n}\nconst $6d45e21e2891194c$export$eab97d15b1788b8d = {\n    convertSalaryToString: $6d45e21e2891194c$var$convertSalaryToString\n};\n\n\nvar $edf35ada638b2d5d$require$utils = $6d45e21e2891194c$export$eab97d15b1788b8d;\n\"use strict\";\nconst $71d642b50f4f34fc$export$9c2064c35b4b3fe6 = (posTop, posRight, title, description, type)=>{\n    const body = document.querySelector(\"body\");\n    const notification = document.createElement(\"div\");\n    notification.style.top = posTop + \"px\";\n    notification.style.right = posRight + \"px\";\n    notification.insertAdjacentHTML(\"afterbegin\", `<h2 class=\"title\">${title}</h2>`);\n    notification.insertAdjacentHTML(\"beforeend\", `<p>${description}</p>`);\n    notification.setAttribute(\"data-qa\", \"notification\");\n    notification.classList.add(\"notification\");\n    switch(type){\n        case \"success\":\n            notification.classList.add(\"success\");\n            break;\n        case \"warning\":\n            notification.classList.add(\"warning\");\n            break;\n        default:\n            notification.classList.add(\"error\");\n    }\n    body.appendChild(notification);\n    setTimeout(()=>notification.remove(), 4000);\n};\n\n\nvar $edf35ada638b2d5d$require$pushNotification = $71d642b50f4f34fc$export$9c2064c35b4b3fe6;\nfunction $2ff0c32c72b9b2ae$var$isValid(fieldName, value) {\n    switch(fieldName){\n        case \"name\":\n            return value.trim().length >= 4;\n        case \"position\":\n            return !!value.trim();\n        case \"office\":\n            return true;\n        case \"age\":\n            return value >= 18 && value < 90;\n        case \"salary\":\n            return value >= 0 && value;\n        default:\n            break;\n    }\n}\nconst $2ff0c32c72b9b2ae$export$cc0ea38c9ab56613 = {\n    isValid: $2ff0c32c72b9b2ae$var$isValid\n};\n\n\nvar $edf35ada638b2d5d$require$validateFormData = $2ff0c32c72b9b2ae$export$cc0ea38c9ab56613;\nconst $77b5f2cf1b319760$export$61f5361c1a328fc0 = [\n    `Tokyo`,\n    `Singapore`,\n    `London`,\n    `New York`,\n    `Edinburgh`,\n    `San Francisco`\n];\n\n\nvar $edf35ada638b2d5d$require$SELECT_OPTIONS = $77b5f2cf1b319760$export$61f5361c1a328fc0;\nconst $edf35ada638b2d5d$var$pageBody = document.querySelector(\"body\");\nfunction $edf35ada638b2d5d$var$create({ headers: headers, tbody: tbody }) {\n    const form = document.createElement(\"form\");\n    form.classList.add(\"new-employee-form\");\n    headers.forEach((header)=>{\n        const fieldName = header.toLowerCase();\n        const label = document.createElement(\"label\");\n        let inputField = null;\n        label.textContent = `${header}:`;\n        if (fieldName === \"office\") {\n            inputField = document.createElement(\"select\");\n            $edf35ada638b2d5d$require$SELECT_OPTIONS.forEach((item)=>{\n                const option = document.createElement(\"option\");\n                option.textContent = item;\n                inputField.appendChild(option);\n            });\n        } else inputField = document.createElement(\"input\");\n        inputField.setAttribute(\"name\", `${fieldName}`);\n        inputField.setAttribute(\"data-qa\", `${fieldName}`);\n        if (fieldName === \"age\" || fieldName === \"salary\") inputField.setAttribute(\"type\", \"number\");\n        label.appendChild(inputField);\n        form.appendChild(label);\n    });\n    const formButton = document.createElement(\"button\");\n    formButton.textContent = \"Save to table\";\n    formButton.setAttribute(\"type\", \"submit\");\n    form.appendChild(formButton);\n    $edf35ada638b2d5d$var$pageBody.appendChild(form);\n    form.addEventListener(\"submit\", (formEvent)=>{\n        formEvent.preventDefault();\n        const prevNotification = document.querySelector(\".notification\");\n        if (prevNotification) prevNotification.remove();\n        const formData = new FormData(form);\n        let isError = false;\n        const newEmployee = document.createElement(\"tr\");\n        headers.forEach((header)=>{\n            if (isError) return;\n            const fieldName = header.toLowerCase();\n            let tdValue = formData.get(`${fieldName}`);\n            if (!$edf35ada638b2d5d$require$validateFormData.isValid(fieldName, tdValue)) {\n                isError = true;\n                switch(fieldName){\n                    case \"name\":\n                        $edf35ada638b2d5d$require$pushNotification(10, 10, \"Error\", \"There was a problem with your submission.\\n The name must have at least 4 letters.\", \"error\");\n                        break;\n                    case \"position\":\n                        $edf35ada638b2d5d$require$pushNotification(10, 10, \"Error\", \"There was a problem with your submission.\\n The position cannot be an empty string.\", \"error\");\n                        break;\n                    case \"age\":\n                        $edf35ada638b2d5d$require$pushNotification(10, 10, \"Error\", \"There was a problem with your submission.\\n It looks like you are either too young to work or should retire. Eligible age is 18 to 90 years old.\", \"error\");\n                        break;\n                    case \"salary\":\n                        $edf35ada638b2d5d$require$pushNotification(10, 10, \"Error\", \"There was a problem with your submission.\\n The value should not be negative.\", \"error\");\n                        break;\n                    default:\n                        break;\n                }\n                return;\n            }\n            if (!isError) {\n                if (fieldName === \"salary\") tdValue = $edf35ada638b2d5d$require$utils.convertSalaryToString(tdValue);\n                const td = document.createElement(\"td\");\n                td.textContent = tdValue;\n                newEmployee.appendChild(td);\n            }\n        });\n        if (!isError) {\n            tbody.appendChild(newEmployee);\n            $edf35ada638b2d5d$require$pushNotification(10, 10, \"success\", \"Great!\\n The employee was added to the table.\", \"success\");\n            form.reset();\n        }\n    });\n}\nconst $edf35ada638b2d5d$export$cbbc3d01d7b727b2 = {\n    create: $edf35ada638b2d5d$var$create\n};\n\n\nvar $09e991522ca7e64e$require$tableForm = $edf35ada638b2d5d$export$cbbc3d01d7b727b2;\n\nvar $09e991522ca7e64e$require$validateFormData = $2ff0c32c72b9b2ae$export$cc0ea38c9ab56613;\n\nvar $09e991522ca7e64e$require$pushNotification = $71d642b50f4f34fc$export$9c2064c35b4b3fe6;\n\nvar $09e991522ca7e64e$require$utils = $6d45e21e2891194c$export$eab97d15b1788b8d;\n\nvar $09e991522ca7e64e$require$SELECT_OPTIONS = $77b5f2cf1b319760$export$61f5361c1a328fc0;\nconst $09e991522ca7e64e$var$table = document.querySelector(\"table\");\nconst $09e991522ca7e64e$var$headers = [];\nconst $09e991522ca7e64e$var$columnsType = [];\nconst $09e991522ca7e64e$var$thead = $09e991522ca7e64e$var$table.rows[0];\nconst $09e991522ca7e64e$var$tbody = $09e991522ca7e64e$var$table.children[1];\nlet $09e991522ca7e64e$var$tbodyRows = [\n    ...$09e991522ca7e64e$var$tbody.rows\n];\n[\n    ...$09e991522ca7e64e$var$thead.cells\n].forEach((element)=>{\n    $09e991522ca7e64e$var$headers.push(element.textContent);\n    element.addEventListener(\"click\", ()=>{\n        $09e991522ca7e64e$var$tbodyRows = [\n            ...$09e991522ca7e64e$var$tbody.rows\n        ];\n        $09e991522ca7e64e$require$tableSorting.tSortingBy(element.textContent, $09e991522ca7e64e$var$headers, $09e991522ca7e64e$var$columnsType, $09e991522ca7e64e$var$tbodyRows, $09e991522ca7e64e$var$tbody);\n    });\n});\n[\n    ...$09e991522ca7e64e$var$tbodyRows[0].cells\n].forEach((element)=>{\n    $09e991522ca7e64e$var$columnsType.push($09e991522ca7e64e$require$tableSorting.defineSortValue(element.textContent));\n});\n[\n    ...$09e991522ca7e64e$var$tbodyRows\n].forEach((element)=>{\n    element.addEventListener(\"click\", ()=>{\n        [\n            ...$09e991522ca7e64e$var$tbodyRows\n        ].forEach((elem)=>{\n            elem.classList.remove(\"active\");\n        });\n        element.classList.add(\"active\");\n    });\n});\n$09e991522ca7e64e$require$tableForm.create({\n    headers: $09e991522ca7e64e$var$headers,\n    tbody: $09e991522ca7e64e$var$tbody\n});\n// editing of table cells by double-clicking on it\n$09e991522ca7e64e$var$tbody.addEventListener(\"dblclick\", (e)=>{\n    const cell = e.target;\n    const cellValue = cell.innerText;\n    let newCellValue = cellValue;\n    const tr = cell.parentElement;\n    const columnIndex = [\n        ...tr.cells\n    ].indexOf(cell);\n    let input = document.createElement(\"input\");\n    if ($09e991522ca7e64e$var$columnsType[columnIndex] === \"digits\") {\n        input.setAttribute(\"type\", \"number\");\n        input.setAttribute(\"min\", \"18\");\n        input.setAttribute(\"max\", \"90\");\n    }\n    if ($09e991522ca7e64e$var$columnsType[columnIndex] === \"money\") {\n        input.setAttribute(\"type\", \"number\");\n        input.setAttribute(\"min\", \"0\");\n        input.setAttribute(\"step\", \"100\");\n        newCellValue = Number(newCellValue.replace(\",\", \"\").slice(1));\n    }\n    if ($09e991522ca7e64e$var$headers[columnIndex] === \"Office\") {\n        input = document.createElement(\"select\");\n        $09e991522ca7e64e$require$SELECT_OPTIONS.forEach((item)=>{\n            const option = document.createElement(\"option\");\n            option.textContent = item;\n            input.appendChild(option);\n        });\n    }\n    input.classList.add(\"cell-input\");\n    input.value = newCellValue;\n    cell.innerText = \"\";\n    cell.append(input);\n    input.focus();\n    function saveChanges(saveEvent) {\n        if (saveEvent.key === \"Escape\") {\n            if ($09e991522ca7e64e$var$columnsType[columnIndex] === \"money\") {\n                input.value = $09e991522ca7e64e$require$utils.convertSalaryToString(newCellValue);\n                cell.innerText = $09e991522ca7e64e$require$utils.convertSalaryToString(newCellValue);\n                return;\n            }\n            input.value = newCellValue;\n            cell.innerText = newCellValue;\n            return;\n        }\n        if (saveEvent.type === \"blur\" || saveEvent.key === \"Enter\") {\n            if ($09e991522ca7e64e$var$columnsType[columnIndex] === \"money\") {\n                if (!$09e991522ca7e64e$require$validateFormData.isValid(\"salary\", Number(input.value))) {\n                    $09e991522ca7e64e$require$pushNotification(10, 10, \"Error\", \"There was a problem with your submission.\\n The value should not be negative.\", \"error\");\n                    input.value = $09e991522ca7e64e$require$utils.convertSalaryToString(newCellValue);\n                    cell.innerText = $09e991522ca7e64e$require$utils.convertSalaryToString(newCellValue);\n                    return;\n                } else {\n                    cell.innerText = input.value ? $09e991522ca7e64e$require$utils.convertSalaryToString(input.value) : $09e991522ca7e64e$require$utils.convertSalaryToString(newCellValue);\n                    return;\n                }\n            }\n            if ($09e991522ca7e64e$var$columnsType[columnIndex] === \"digits\") {\n                if (!$09e991522ca7e64e$require$validateFormData.isValid(\"age\", Number(input.value))) {\n                    $09e991522ca7e64e$require$pushNotification(10, 10, \"Error\", \"There was a problem with your submission.\\n Age should be between 18 and 90.\", \"error\");\n                    input.value = newCellValue;\n                    cell.innerText = newCellValue;\n                    return;\n                } else {\n                    cell.innerText = input.value;\n                    return;\n                }\n            }\n            newCellValue = input.value;\n            cell.innerText = newCellValue;\n        }\n    }\n    input.addEventListener(\"blur\", saveChanges);\n    input.addEventListener(\"keyup\", saveChanges);\n});\n\n\n//# sourceMappingURL=index.6d4c13a1.js.map\n","/* eslint-disable no-console */\n'use strict';\n\nconst { tableSorting } = require('./tableSorting.js');\nconst { tableForm } = require('./tableForm.js');\nconst { validateFormData } = require('./validateFormData.js');\nconst { pushNotification } = require('./notification.js');\nconst { utils } = require('./utils.js');\nconst { SELECT_OPTIONS } = require('./constants.js');\n\nconst table = document.querySelector('table');\n\nconst headers = [];\nconst columnsType = [];\n\nconst thead = table.rows[0];\nconst tbody = table.children[1];\nlet tbodyRows = [...tbody.rows];\n\n[...thead.cells].forEach((element) => {\n  headers.push(element.textContent);\n\n  element.addEventListener('click', () => {\n    tbodyRows = [...tbody.rows];\n\n    tableSorting.tSortingBy(\n      element.textContent,\n      headers,\n      columnsType,\n      tbodyRows,\n      tbody,\n    );\n  });\n});\n\n[...tbodyRows[0].cells].forEach((element) => {\n  columnsType.push(tableSorting.defineSortValue(element.textContent));\n});\n\n[...tbodyRows].forEach((element) => {\n  element.addEventListener('click', () => {\n    [...tbodyRows].forEach((elem) => {\n      elem.classList.remove('active');\n    });\n\n    element.classList.add('active');\n  });\n});\n\ntableForm.create({ headers, tbody });\n\n// editing of table cells by double-clicking on it\n\ntbody.addEventListener('dblclick', (e) => {\n  const cell = e.target;\n  const cellValue = cell.innerText;\n  let newCellValue = cellValue;\n  const tr = cell.parentElement;\n  const columnIndex = [...tr.cells].indexOf(cell);\n\n  let input = document.createElement('input');\n\n  if (columnsType[columnIndex] === 'digits') {\n    input.setAttribute('type', 'number');\n    input.setAttribute('min', '18');\n    input.setAttribute('max', '90');\n  }\n\n  if (columnsType[columnIndex] === 'money') {\n    input.setAttribute('type', 'number');\n    input.setAttribute('min', '0');\n    input.setAttribute('step', '100');\n\n    newCellValue = Number(newCellValue.replace(',', '').slice(1));\n  }\n\n  if (headers[columnIndex] === 'Office') {\n    input = document.createElement('select');\n\n    SELECT_OPTIONS.forEach((item) => {\n      const option = document.createElement('option');\n\n      option.textContent = item;\n\n      input.appendChild(option);\n    });\n  }\n\n  input.classList.add('cell-input');\n  input.value = newCellValue;\n\n  cell.innerText = '';\n  cell.append(input);\n\n  input.focus();\n\n  function saveChanges(saveEvent) {\n    if (saveEvent.key === 'Escape') {\n      if (columnsType[columnIndex] === 'money') {\n        input.value = utils.convertSalaryToString(newCellValue);\n        cell.innerText = utils.convertSalaryToString(newCellValue);\n\n        return;\n      }\n\n      input.value = newCellValue;\n      cell.innerText = newCellValue;\n\n      return;\n    }\n\n    if (saveEvent.type === 'blur' || saveEvent.key === 'Enter') {\n      if (columnsType[columnIndex] === 'money') {\n        if (!validateFormData.isValid('salary', Number(input.value))) {\n          pushNotification(\n            10,\n            10,\n            'Error',\n            'There was a problem with your submission.\\n ' +\n              'The value should not be negative.',\n            'error',\n          );\n          input.value = utils.convertSalaryToString(newCellValue);\n          cell.innerText = utils.convertSalaryToString(newCellValue);\n\n          return;\n        } else {\n          cell.innerText = input.value\n            ? utils.convertSalaryToString(input.value)\n            : utils.convertSalaryToString(newCellValue);\n\n          return;\n        }\n      }\n\n      if (columnsType[columnIndex] === 'digits') {\n        if (!validateFormData.isValid('age', Number(input.value))) {\n          pushNotification(\n            10,\n            10,\n            'Error',\n            'There was a problem with your submission.\\n ' +\n              'Age should be between 18 and 90.',\n            'error',\n          );\n          input.value = newCellValue;\n          cell.innerText = newCellValue;\n\n          return;\n        } else {\n          cell.innerText = input.value;\n\n          return;\n        }\n      }\n\n      newCellValue = input.value;\n\n      cell.innerText = newCellValue;\n    }\n  }\n\n  input.addEventListener('blur', saveChanges);\n  input.addEventListener('keyup', saveChanges);\n});\n","let isASC = true;\nlet currHeader = '';\n\nfunction tSortingBy(header, headers, columnsType, tbodyRows, tbody) {\n  const columnIndex = headers.indexOf(header);\n\n  if (currHeader === header) {\n    isASC = !isASC;\n  } else {\n    isASC = true;\n    currHeader = header;\n  }\n\n  switch (columnsType[columnIndex]) {\n    case 'money':\n    case 'digits':\n      tbodyRows.sort((a, b) => {\n        let aValue = a.cells[columnIndex].textContent;\n        let bValue = b.cells[columnIndex].textContent;\n\n        if (columnsType[columnIndex] === 'money') {\n          aValue = getNumFromMoney(aValue);\n          bValue = getNumFromMoney(bValue);\n        }\n\n        return isASC ? aValue - bValue : bValue - aValue;\n      });\n      break;\n\n    case 'words':\n      tbodyRows.sort((a, b) => {\n        const aValue = a.cells[columnIndex].textContent;\n        const bValue = b.cells[columnIndex].textContent;\n\n        return isASC\n          ? aValue.localeCompare(bValue)\n          : bValue.localeCompare(aValue);\n      });\n\n      break;\n\n    default:\n      break;\n  }\n\n  tbodyRows.forEach((item) => {\n    tbody.appendChild(item);\n  });\n}\n\nfunction defineSortValue(item) {\n  if (item[0] === '$' && item.split(/\\s/).length === 1) {\n    return 'money';\n  }\n\n  if (typeof Number(item) === 'number' && !isNaN(Number(item))) {\n    return 'digits';\n  }\n\n  return 'words';\n}\n\nfunction getNumFromMoney(v) {\n  return v.replace(',', '').slice(1);\n}\n\nexport const tableSorting = {\n  tSortingBy,\n  defineSortValue,\n};\n","const { utils } = require('./utils.js');\nconst { pushNotification } = require('./notification.js');\nconst { validateFormData } = require('./validateFormData.js');\nconst { SELECT_OPTIONS } = require('./constants.js');\n\nconst pageBody = document.querySelector('body');\n\nfunction create({ headers, tbody }) {\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n\n  headers.forEach((header) => {\n    const fieldName = header.toLowerCase();\n    const label = document.createElement('label');\n    let inputField = null;\n\n    label.textContent = `${header}:`;\n\n    if (fieldName === 'office') {\n      inputField = document.createElement('select');\n\n      SELECT_OPTIONS.forEach((item) => {\n        const option = document.createElement('option');\n\n        option.textContent = item;\n\n        inputField.appendChild(option);\n      });\n    } else {\n      inputField = document.createElement('input');\n    }\n\n    inputField.setAttribute('name', `${fieldName}`);\n    inputField.setAttribute('data-qa', `${fieldName}`);\n\n    if (fieldName === 'age' || fieldName === 'salary') {\n      inputField.setAttribute('type', 'number');\n    }\n\n    label.appendChild(inputField);\n    form.appendChild(label);\n  });\n\n  const formButton = document.createElement('button');\n\n  formButton.textContent = 'Save to table';\n  formButton.setAttribute('type', 'submit');\n\n  form.appendChild(formButton);\n\n  pageBody.appendChild(form);\n\n  form.addEventListener('submit', (formEvent) => {\n    formEvent.preventDefault();\n\n    const prevNotification = document.querySelector('.notification');\n\n    if (prevNotification) {\n      prevNotification.remove();\n    }\n\n    const formData = new FormData(form);\n    let isError = false;\n\n    const newEmployee = document.createElement('tr');\n\n    headers.forEach((header) => {\n      if (isError) {\n        return;\n      }\n\n      const fieldName = header.toLowerCase();\n      let tdValue = formData.get(`${fieldName}`);\n\n      if (!validateFormData.isValid(fieldName, tdValue)) {\n        isError = true;\n\n        switch (fieldName) {\n          case 'name':\n            pushNotification(\n              10,\n              10,\n              'Error',\n              'There was a problem with your submission.\\n ' +\n                'The name must have at least 4 letters.',\n              'error',\n            );\n            break;\n\n          case 'position':\n            pushNotification(\n              10,\n              10,\n              'Error',\n              'There was a problem with your submission.\\n ' +\n                'The position cannot be an empty string.',\n              'error',\n            );\n            break;\n\n          case 'age':\n            pushNotification(\n              10,\n              10,\n              'Error',\n              'There was a problem with your submission.\\n ' +\n                // eslint-disable-next-line max-len\n                'It looks like you are either too young to work or should retire. Eligible age is 18 to 90 years old.',\n              'error',\n            );\n            break;\n\n          case 'salary':\n            pushNotification(\n              10,\n              10,\n              'Error',\n              'There was a problem with your submission.\\n ' +\n                'The value should not be negative.',\n              'error',\n            );\n            break;\n\n          default:\n            break;\n        }\n\n        return;\n      }\n\n      if (!isError) {\n        if (fieldName === 'salary') {\n          tdValue = utils.convertSalaryToString(tdValue);\n        }\n\n        const td = document.createElement('td');\n\n        td.textContent = tdValue;\n\n        newEmployee.appendChild(td);\n      }\n    });\n\n    if (!isError) {\n      tbody.appendChild(newEmployee);\n\n      pushNotification(\n        10,\n        10,\n        'success',\n        'Great!\\n ' + 'The employee was added to the table.',\n        'success',\n      );\n\n      form.reset();\n    }\n  });\n}\n\nexport const tableForm = {\n  create,\n};\n","function convertSalaryToString(value) {\n  const res = String(value).split('');\n  let currGroup = 1;\n\n  for (let i = res.length - 1; i > 0; i--) {\n    if (currGroup === 3) {\n      currGroup = 1;\n      res[i] = ',' + res[i];\n      continue;\n    }\n    currGroup++;\n  }\n\n  return '$' + res.join('');\n}\n\nexport const utils = {\n  convertSalaryToString,\n};\n","'use strict';\n\nexport const pushNotification = (\n  posTop,\n  posRight,\n  title,\n  description,\n  type,\n) => {\n  const body = document.querySelector('body');\n  const notification = document.createElement('div');\n\n  notification.style.top = posTop + 'px';\n  notification.style.right = posRight + 'px';\n\n  notification.insertAdjacentHTML(\n    'afterbegin',\n    `<h2 class=\"title\">${title}</h2>`,\n  );\n  notification.insertAdjacentHTML('beforeend', `<p>${description}</p>`);\n\n  notification.setAttribute('data-qa', 'notification');\n  notification.classList.add('notification');\n\n  switch (type) {\n    case 'success':\n      notification.classList.add('success');\n      break;\n\n    case 'warning':\n      notification.classList.add('warning');\n      break;\n\n    default:\n      notification.classList.add('error');\n  }\n\n  body.appendChild(notification);\n\n  setTimeout(() => notification.remove(), 4000);\n};\n","function isValid(fieldName, value) {\n  switch (fieldName) {\n    case 'name':\n      return value.trim().length >= 4;\n\n    case 'position':\n      return !!value.trim();\n\n    case 'office':\n      return true;\n\n    case 'age':\n      return value >= 18 && value < 90;\n\n    case 'salary':\n      return value >= 0 && value;\n\n    default:\n      break;\n  }\n}\n\nexport const validateFormData = {\n  isValid,\n};\n","export const SELECT_OPTIONS = [\n  `Tokyo`,\n  `Singapore`,\n  `London`,\n  `New York`,\n  `Edinburgh`,\n  `San Francisco`,\n];\n"],"names":["$da12f7e12b932187$var$isASC","$da12f7e12b932187$var$currHeader","$da12f7e12b932187$var$getNumFromMoney","v","replace","slice","header","headers","columnsType","tbodyRows","tbody","columnIndex","indexOf","sort","a","b","aValue","cells","textContent","bValue","localeCompare","forEach","item","appendChild","$6d45e21e2891194c$export$eab97d15b1788b8d","convertSalaryToString","value","res","String","split","currGroup","i","length","join","$71d642b50f4f34fc$export$9c2064c35b4b3fe6","posTop","posRight","title","description","type","body","document","querySelector","notification","createElement","style","top","right","insertAdjacentHTML","setAttribute","classList","add","setTimeout","remove","$2ff0c32c72b9b2ae$export$cc0ea38c9ab56613","isValid","fieldName","trim","$77b5f2cf1b319760$export$61f5361c1a328fc0","$edf35ada638b2d5d$var$pageBody","$09e991522ca7e64e$var$table","$09e991522ca7e64e$var$headers","$09e991522ca7e64e$var$columnsType","$09e991522ca7e64e$var$thead","rows","$09e991522ca7e64e$var$tbody","children","$09e991522ca7e64e$var$tbodyRows","element","push","addEventListener","$09e991522ca7e64e$require$tableSorting","Number","isNaN","elem","$09e991522ca7e64e$require$tableForm","create","form","toLowerCase","label","inputField","$edf35ada638b2d5d$require$SELECT_OPTIONS","option","formButton","formEvent","preventDefault","prevNotification","formData","FormData","isError","newEmployee","tdValue","get","$edf35ada638b2d5d$require$validateFormData","$edf35ada638b2d5d$require$pushNotification","$edf35ada638b2d5d$require$utils","td","reset","e","cell","target","newCellValue","innerText","tr","parentElement","input","saveChanges","saveEvent","key","$09e991522ca7e64e$require$utils","$09e991522ca7e64e$require$validateFormData","$09e991522ca7e64e$require$pushNotification","$09e991522ca7e64e$require$SELECT_OPTIONS","append","focus"],"version":3,"file":"index.6d4c13a1.js.map"}